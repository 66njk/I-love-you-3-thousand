# MATLAB

## 一、Matlab 基本小常识

Matlab 脚本：包含 Matlab 代码的文件（`.m` 文件）。

Matlab 既可以使用命令行交互的方式执行，也可以使用脚本的方式执行。 

---

1、`;`分号：Matlab 在一行的语句后面加上分号（英文输入法），那么就表示不显示该行的运行结果，否则会自动显示该行的运行结果。

> 在我们实际用脚本编写代码的过程中，我们一般是不加分号的，因为代码执行过程中的大部分过程我们并不需要显示出来，只需要显示我们最终的结果即可。

```matlab
>> a = 24;
>> a = 24

a =

    24

>> 
```

2、`%`注释：快捷键（ctrl+R）

3、`clear`：清除工作区的所有变量命令

> 注意：clear 清除的是工作区所有的变量，而不是清空命令行窗口。

4、`clc`：清除命令行窗口中的所有文本，让屏幕变得干净。

5、`clear;clc`：我们经常这么用，起到“初始化”的作用，防止之前的结果对新脚本文件（.m 文件）产生干扰。

> `;`分号还具有区分行的作用。

6、`disp()`函数：屏幕输出函数

```matlab
disp('我是Jerry，大家好！');
% Matlab 中字符串用单引号或者双引号

% 行向量
a = [1, 2, 3];
b = [1 2 3];
disp(a);
disp(b);

% 列向量
c = [1; 2; 3];
% 分号可以用来分隔每一行的元素
disp(C);
% disp() 函数的末尾加不加分号的结果都是一样的！
```

```
我是Jerry，大家好！
     1     2     3

     1     2     3

     1
     2
     3
```

7、字符串合并

- `strcat()`合并多个字符串

  ```matlab
  % strcat('字符串1', '字符串2')
  a = 24;
  % 一个有用的字符串函数：num2str() 将数字转换为字符串
  disp(strcat('a的取值为：', num2str(a)));
  % a的取值为：24
  ```

- `['字符串1', '字符串2', ...]`或`['字符串1' '字符串2' ...]`

  ```matlab
  % 利用 [] 把字符串看成一个向量，字符串之间可以用分号或空格间隔
  a = 24;
  disp(['a的取值为：', num2str(a)]);
  % a的取值为：24
  ```

8、`input()`函数：屏幕输入函数

```matlab
% 一般我们会将输入的数、向量、矩阵、字符串等赋给一个变量，这里我们赋给A
A = input('请输入A：');
B = input('请输入B：')
% 注意观察工作区，并体会 input 后面加分号和不加分号的区别
```

```
请输入A：24
请输入B：24

B =

    24

>> 
```

9、`sum()`函数：求和函数

```matlab
% 1、如果是向量（无论是行向量还是列向量），都是直接求和
% 行向量
E = [1, 2, 3]
sum(E)
% 列向量
E = [1; 2; 3]
sum(E)
```

```
E =

     1     2     3


ans =

     6


E =

     1
     2
     3


ans =

     6

>> 
```

```matlab
% 2、如果是矩阵，则需要根据行和列的方向作区分
E = [1, 2; 3, 4; 5, 6]
E = [1 2; 3 4; 5 6]
% 矩阵同行元素用逗号或空格隔开，不同行之间用分号隔开

% a = sum(x)：按列求和（得到一个行向量）
a = sum(E)
a = sum(E, 1)
a = sum(E, 2)
% a = sum(E, 1)：按列求和（得到一个行向量）
% a = sum(E, 2)：按行求和（得到一个列向量）
% 这里的第二个参数在 matlab 中叫：dim（纬度），这里默认 dim = 1

% a = sum(sum(E)) 或 a = sum(E(:))：对整个矩阵求和
a = sum(sum(E))	% 先按照列求和，在进行一次求和
a = sum(E(:))
E(:) % 把矩阵按列方向拼接成一列
```

```
E =

     1     2
     3     4
     5     6


E =

     1     2
     3     4
     5     6


a =

     9    12


a =

     9    12


a =

     3
     7
    11


a =

    21


a =

    21


ans =

     1
     3
     5
     2
     4
     6

>> 
```

10、提取矩阵中指定位置的元素

- 取指定行和列的一个元素（输出的是一个值）

```matlab
A = [1 1 4 1/3 3; 1 1 4 1/3 3; 1/4 1/4 1 1/3 1/2; 3 3 3 1 3; 1/3 1/3 2 1/3 1];
A
A(2, 1)
A(3, 2)
```

```
A =

    1.0000    1.0000    4.0000    0.3333    3.0000
    1.0000    1.0000    4.0000    0.3333    3.0000
    0.2500    0.2500    1.0000    0.3333    0.5000
    3.0000    3.0000    3.0000    1.0000    3.0000
    0.3333    0.3333    2.0000    0.3333    1.0000


ans =

     1


ans =

    0.2500

>> 
```

- 取指定的某一行的全部元素（输出的是一个行向量）

```matlab
clc;A
A(2, :)
A(5, :)
% 冒号':'表示取所有元素
```

```
A =

    1.0000    1.0000    4.0000    0.3333    3.0000
    1.0000    1.0000    4.0000    0.3333    3.0000
    0.2500    0.2500    1.0000    0.3333    0.5000
    3.0000    3.0000    3.0000    1.0000    3.0000
    0.3333    0.3333    2.0000    0.3333    1.0000


ans =

    1.0000    1.0000    4.0000    0.3333    3.0000


ans =

    0.3333    0.3333    2.0000    0.3333    1.0000

>> 
```

- 取指定的某一列的全部元素（输出的是一个列向量）

```matlab
clc;A
A(:, 1)
A(:, 3)
% 冒号':'表示取所有元素
```

```
A =

    1.0000    1.0000    4.0000    0.3333    3.0000
    1.0000    1.0000    4.0000    0.3333    3.0000
    0.2500    0.2500    1.0000    0.3333    0.5000
    3.0000    3.0000    3.0000    1.0000    3.0000
    0.3333    0.3333    2.0000    0.3333    1.0000


ans =

    1.0000
    1.0000
    0.2500
    3.0000
    0.3333


ans =

     4
     4
     1
     3
     2

>> 
```

- 取指定的某些行的全部元素（输出的是一个矩阵）

```matlab
clc;A
A([2, 5], :)	% 只取第二行和第五行（一共2行）
A(2:5, :)		% 取第二行到第五行（一共4行）
A(2:2:5, :)		% 取第二行和第四行（从 2 开始，每次递增 2 个单位，到 5 结束）
1:3:10			% 等差数列，从 1 到 10，公差为 3	
10:-1:1			% 等差数列，从 10 到 1，公差为 -1
A(2:end, :)		% 取第二行到最后一行 
A(2:end-1, :)	 % 取第二行到倒数第二行 
```

```
A =

    1.0000    1.0000    4.0000    0.3333    3.0000
    1.0000    1.0000    4.0000    0.3333    3.0000
    0.2500    0.2500    1.0000    0.3333    0.5000
    3.0000    3.0000    3.0000    1.0000    3.0000
    0.3333    0.3333    2.0000    0.3333    1.0000


ans =

    1.0000    1.0000    4.0000    0.3333    3.0000
    0.3333    0.3333    2.0000    0.3333    1.0000


ans =

    1.0000    1.0000    4.0000    0.3333    3.0000
    0.2500    0.2500    1.0000    0.3333    0.5000
    3.0000    3.0000    3.0000    1.0000    3.0000
    0.3333    0.3333    2.0000    0.3333    1.0000


ans =

    1.0000    1.0000    4.0000    0.3333    3.0000
    3.0000    3.0000    3.0000    1.0000    3.0000


ans =

     1     4     7    10


ans =

    10     9     8     7     6     5     4     3     2     1


ans =

    1.0000    1.0000    4.0000    0.3333    3.0000
    0.2500    0.2500    1.0000    0.3333    0.5000
    3.0000    3.0000    3.0000    1.0000    3.0000
    0.3333    0.3333    2.0000    0.3333    1.0000


ans =

    1.0000    1.0000    4.0000    0.3333    3.0000
    0.2500    0.2500    1.0000    0.3333    0.5000
    3.0000    3.0000    3.0000    1.0000    3.0000

>> 
```

- 取全部元素（按列拼接，最终输出的是一个列向量）

```matlab
clc;A
A(:)
% 在 MATLAB 中，矩阵是按照列进行存储的
% 这也说明为什么 sum() 函数默认按列进行累加
```

```
A =

    1.0000    1.0000    4.0000    0.3333    3.0000
    1.0000    1.0000    4.0000    0.3333    3.0000
    0.2500    0.2500    1.0000    0.3333    0.5000
    3.0000    3.0000    3.0000    1.0000    3.0000
    0.3333    0.3333    2.0000    0.3333    1.0000


ans =

    1.0000
    1.0000
    0.2500
    3.0000
    0.3333
    1.0000
    1.0000
    0.2500
    3.0000
    0.3333
    4.0000
    4.0000
    1.0000
    3.0000
    2.0000
    0.3333
    0.3333
    0.3333
    1.0000
    0.3333
    3.0000
    3.0000
    0.5000
    3.0000
    1.0000

>> 
```

